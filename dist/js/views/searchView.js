define(["jquery","underscore","backbone","models/Location","collections/Locations","views/LocationsListView","text!templates/search.html"],function(e,t,n,r,i,s,o){var u=n.View.extend({initialize:function(){console.log("Search view intitialized.")},el:e("#container .header"),render:function(){var e=t.template(o,{placeholder:"Search for a location ..."});this.$el.append(e)},events:{"keyup input#search":"doGeolocSearch"},doGeolocSearch:function(n){var o=n.currentTarget.value;console.log("Searching for '"+o+"'");var u=new google.maps.Geocoder,a={address:o};u.geocode(a,function(n,o){var u=new i;t.each(n,function(e){var t=new r;t.setData(e),u.add(t)}),this.locationsListView&&(this.locationsListView.undelegateEvents(),e(this.locationsListView.el).removeData().unbind(),this.locationsListView.$el.html("")),this.locationsListView=new s({collection:u}),this.locationsListView.render()})}});return u});